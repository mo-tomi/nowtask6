<!DOCTYPE html>

<script src="js/i18n.js?v=1"></script>
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>nowtask</title>

  <!-- PWA髫ｪ・ｭ陞ｳ繝ｻ-->
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#000000">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="nowtask">
  <link rel="apple-touch-icon" href="./icon-192.png">
  <meta name="description" content="郢晢ｽ｢郢晏ｼｱ縺醍ｹ晢ｽｭ郢昴・縺倡ｹｧ・､郢晢ｽｳ邵ｺ・ｮ郢ｧ・ｷ郢晢ｽｳ郢晏干ﾎ晉ｸｺ・ｪ郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ驍ゑｽ｡騾・・縺・ｹ晏干ﾎ・>

  <link rel="stylesheet" href="css/style-base.css?v=46">
  <link rel="stylesheet" href="css/style-components.css?v=46">
  <link rel="stylesheet" href="style.css?v=47">
  <link rel="stylesheet" href="animations.css?v=51">

  <!-- HTML2Canvas for sharing screenshots -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>
  <!-- 隴鯉ｽｧ郢晏･繝｣郢敖郢晢ｽｼ繝ｻ莠･・ｾ譴ｧ蟀ｿ闔蜻磯共隲､・ｧ邵ｺ・ｮ邵ｺ貅假ｽ∬将譎・亜繝ｻ繝ｻ-->
  <header class="header" id="old-header">
    <div class="header-content">
      <h1 class="app-title" id="app-title-btn" style="cursor: pointer;">nowtask</h1>
      <div class="header-actions">
        <button class="calendar-icon-btn" id="calendar-icon-btn" aria-label="郢ｧ・ｫ郢晢ｽｬ郢晢ｽｳ郢敖郢晢ｽｼ" title="郢ｧ・ｫ郢晢ｽｬ郢晢ｽｳ郢敖郢晢ｽｼ">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
        <button class="login-icon-btn" id="login-icon-btn" aria-label="繧｢繧ｫ繧ｦ繝ｳ繝・ title="繧｢繧ｫ繧ｦ繝ｳ繝・>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        <button class="settings-icon-btn" id="settings-icon-btn" aria-label="險ｭ螳・ title="險ｭ螳・>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
          </svg>
        <button class="header-menu-btn" id="header-menu-btn" aria-label="郢晢ｽ｡郢昜ｹ斟礼ｹ晢ｽｼ" title="郢晢ｽ｡郢昜ｹ斟礼ｹ晢ｽｼ">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="1"></circle>
            <circle cx="12" cy="5" r="1"></circle>
            <circle cx="12" cy="19" r="1"></circle>
          </svg>
      </div>
    </div>
  </header>

  <!-- 隴・ｽｰ郢晏･繝｣郢敖郢晢ｽｼ繝ｻ蝓溽悛郢昴・縺倡ｹｧ・､郢晢ｽｳ郢ｧ・ｷ郢ｧ・ｹ郢昴・ﾎ偵・繝ｻ-->
  <header class="new-header" id="new-header">
    <div class="new-header-content">
      <h1 class="new-app-title">nowtask</h1>
      <div class="new-header-actions">
        <button class="new-header-btn" id="new-calendar-btn" aria-label="郢ｧ・ｫ郢晢ｽｬ郢晢ｽｳ郢敖郢晢ｽｼ" title="郢ｧ・ｫ郢晢ｽｬ郢晢ｽｳ郢敖郢晢ｽｼ">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
        <button class="new-header-btn" id="new-account-btn" aria-label="繧｢繧ｫ繧ｦ繝ｳ繝・ title="繧｢繧ｫ繧ｦ繝ｳ繝・>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        <button class="new-header-btn" id="new-settings-btn" aria-label="髫ｪ・ｭ陞ｳ繝ｻ title="髫ｪ・ｭ陞ｳ繝ｻ>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
          </svg>
        <button class="new-header-btn" id="new-menu-btn" aria-label="郢晢ｽ｡郢昜ｹ斟礼ｹ晢ｽｼ" title="郢晢ｽ｡郢昜ｹ斟礼ｹ晢ｽｼ">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="1"></circle>
            <circle cx="12" cy="5" r="1"></circle>
            <circle cx="12" cy="19" r="1"></circle>
          </svg>
      </div>
    </div>
  </header>

  <!-- 郢ｧ・ｿ郢晄じ繝ｪ郢晁侭縺皮ｹ晢ｽｼ郢ｧ・ｷ郢晢ｽｧ郢晢ｽｳ繝ｻ莠･轤朱ｫｯ・､繝ｻ繝ｻ-->

  <!-- 郢晢ｽ｡郢ｧ・､郢晢ｽｳ郢ｧ・ｳ郢晢ｽｳ郢昴・ﾎｦ郢昴・縺顔ｹ晢ｽｪ郢ｧ・｢ -->
  <main class="main-content">
    <!-- 郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ郢晢ｽｪ郢ｧ・ｹ郢昴・-->
    <div class="tab-content active" id="tasks-tab">
      <!-- 隴鯉ｽｧ24隴弱ｋ菫｣郢ｧ・ｲ郢晢ｽｼ郢ｧ・ｸ繝ｻ莠･・ｾ譴ｧ蟀ｿ闔蜻磯共隲､・ｧ邵ｺ・ｮ邵ｺ貅假ｽ∬将譎・亜繝ｻ繝ｻ-->
      <section class="time-gauge" id="old-time-gauge-container" role="region" aria-label="24隴弱ｋ菫｣郢ｧ・ｿ郢ｧ・､郢晢｣ｰ郢ｧ・ｲ郢晢ｽｼ郢ｧ・ｸ">
        <header class="time-gauge-header">
          <button
            class="gauge-nav-btn"
            id="gauge-prev-btn" aria-label="前の日に移動" title="前の日に移動" type="button">
            遯ｶ・ｹ
          <div class="gauge-header-center">
            <div class="gauge-date-label" id="gauge-date-label">闔蛾大ｾ・/div>
            <time class="current-time" id="current-time" datetime="00:00" aria-live="polite">00:00</time>
            <div class="remaining-tasks" id="remaining-tasks" role="status" aria-live="polite" aria-atomic="true">
              隹ｿ荵晢ｽ・ 0隴弱ｋ菫｣
            </div>
          </div>
          <button
            class="gauge-nav-btn"
            id="gauge-next-btn" aria-label="次の日に移動" title="次の日に移動" type="button">
            遯ｶ・ｺ
        </header>
        <div class="gauge-wrapper" id="old-gauge-wrapper">
          <div
            class="gauge-bar"
            role="progressbar"
            aria-valuemin="0"
            aria-valuemax="100"
            aria-valuenow="0"
            tabindex="0">
            <!-- 驍ｨ遒≫с隴弱ｋ菫｣郢晢ｽｬ郢ｧ・､郢晢ｽ､郢晢ｽｼ -->
            <div class="time-gauge-elapsed" id="time-gauge-elapsed" aria-hidden="true"></div>
            <!-- 闔莠･・ｮ螢ｽ蜃ｾ鬮｢阮厥樒ｹｧ・､郢晢ｽ､郢晢ｽｼ -->
            <div class="time-gauge-scheduled" id="time-gauge-scheduled" aria-hidden="true"></div>
            <!-- 驕ｨ・ｺ邵ｺ閧ｴ蜃ｾ鬮｢阮厥樒ｹｧ・､郢晢ｽ､郢晢ｽｼ -->
            <div class="time-gauge-free" id="time-gauge-free" aria-hidden="true"></div>
            <!-- 霑ｴ・ｾ陜ｨ・ｨ隴弱ｇ邯ｾ郢晄ｧｭ繝ｻ郢ｧ・ｫ郢晢ｽｼ -->
            <div class="time-marker" id="time-marker" aria-label="霑ｴ・ｾ陜ｨ・ｨ隴弱ｇ邯ｾ郢晄ｧｭ繝ｻ郢ｧ・ｫ郢晢ｽｼ" role="img"></div>
          </div>
          <!-- 隴弱ｋ菫｣郢晢ｽｩ郢晏生ﾎ昴・繝ｻ霓､・ｹ髯ｦ・ｨ髫ｪ蛛・ｽｼ繝ｻ-->
          <div class="time-labels" role="list" aria-label="隴弱ｋ菫｣郢晢ｽｩ郢晏生ﾎ・>
            <span class="time-label" role="listitem" aria-label="0隴弱・>0:00</span>
            <span class="time-label" role="listitem" aria-label="6隴弱・>6:00</span>
            <span class="time-label" role="listitem" aria-label="12隴弱・>12:00</span>
            <span class="time-label" role="listitem" aria-label="18隴弱・>18:00</span>
            <span class="time-label" role="listitem" aria-label="24隴弱・>24:00</span>
          </div>
        </div>
      </section>

      <!-- 隴・ｽｰ24隴弱ｋ菫｣郢ｧ・ｲ郢晢ｽｼ郢ｧ・ｸ繝ｻ蝓溽悛郢昴・縺倡ｹｧ・､郢晢ｽｳ郢ｧ・ｷ郢ｧ・ｹ郢昴・ﾎ偵・繝ｻ-->
      <section class="new-time-gauge" id="new-time-gauge-container" role="region" aria-label="24隴弱ｋ菫｣郢ｧ・ｿ郢ｧ・､郢晢｣ｰ郢ｧ・ｲ郢晢ｽｼ郢ｧ・ｸ">
        <header class="new-gauge-header">
          <button
            class="new-gauge-nav-btn"
            id="new-gauge-prev-btn" aria-label="前の日に移動" title="前の日に移動" type="button">
            遯ｶ・ｹ
          <div class="new-gauge-header-center">
            <div class="new-gauge-date-label" id="new-gauge-date-label">闔蛾大ｾ・/div>
            <time class="new-current-time" id="new-current-time-display" datetime="00:00" aria-live="polite">00:00</time>
            <div class="new-remaining-tasks" id="new-remaining-tasks" role="status" aria-live="polite" aria-atomic="true">
              隹ｿ荵晢ｽ・ 0隴弱ｋ菫｣
            </div>
          </div>
          <button
            class="new-gauge-nav-btn"
            id="new-gauge-next-btn" aria-label="次の日に移動" title="次の日に移動" type="button">
            遯ｶ・ｺ
        </header>
        <div class="new-gauge-wrapper" id="new-gauge-wrapper">
          <div class="new-gauge-bar" aria-label="24隴弱ｋ菫｣郢ｧ・ｿ郢ｧ・､郢晢｣ｰ郢晄じﾎ溽ｹ昴・縺・ role="list">
            <!-- 24陋滉ｹ昴・郢ｧ・ｹ郢昴・繝｣郢晏干窶ｲJavaScript邵ｺ・ｧ陷肴・蝎ｪ騾墓ｻ薙・邵ｺ霈費ｽ檎ｹｧ繝ｻ-->
          </div>
          <div class="new-time-labels">
            <!-- 隴弱ｋ菫｣郢晢ｽｩ郢晏生ﾎ晉ｸｺ郢ｰavaScript邵ｺ・ｧ陷肴・蝎ｪ騾墓ｻ薙・邵ｺ霈費ｽ檎ｹｧ繝ｻ-->
          </div>
        </div>
      </section>

      <!-- 隴鯉ｽｧ髫阪・辟夐ｩ包ｽｸ隰壽ｧｭ繝ｻ郢ｧ・ｿ郢晢ｽｳ繝ｻ莠･・ｾ譴ｧ蟀ｿ闔蜻磯共隲､・ｧ邵ｺ・ｮ邵ｺ貅假ｽ∬将譎・亜繝ｻ繝ｻ-->
      <div class="bulk-select-button-container" id="old-bulk-select-button-container">
        <button type="button" class="bulk-select-toggle-btn" id="bulk-select-toggle-btn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 6px;">
            <polyline points="9 11 12 14 22 4"></polyline>
            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
          </svg>
          髫阪・辟夐ｩ包ｽｸ隰壹・        <</button>
      </div>

      <!-- 隴・ｽｰ髫阪・辟夐ｩ包ｽｸ隰壽ｧｭ繝ｻ郢ｧ・ｿ郢晢ｽｳ繝ｻ蝓溽悛郢昴・縺倡ｹｧ・､郢晢ｽｳ郢ｧ・ｷ郢ｧ・ｹ郢昴・ﾎ偵・繝ｻ-->
      <div class="new-bulk-select-button-container" id="new-bulk-select-button-container">
        <button type="button" class="new-bulk-select-toggle-btn" id="new-bulk-select-toggle-btn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 11 12 14 22 4"></polyline>
            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
          </svg>
          髫阪・辟夐ｩ包ｽｸ隰壹・        <</button>
      </div>

      <div id="tasks-list" class="task-list"></div>
      <div class="empty-state" id="tasks-empty">
        <svg width="80" height="80" viewBox="0 0 100 100" fill="none" stroke="#d0d0d0" stroke-width="2" style="margin: 0 auto 24px;">
          <circle cx="50" cy="50" r="35" stroke-dasharray="5,5"></circle>
          <path d="M50 30 L50 50 L65 50" stroke-linecap="round"></path>
        </svg>
        <p style="font-size: 18px; font-weight: 500; margin-bottom: 12px; color: #9e9e9e;">郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ邵ｺ蠕娯旺郢ｧ鄙ｫ竏ｪ邵ｺ蟶呻ｽ・/p>
        <small style="font-size: 14px; color: #bdbdbd;">+ 郢晄㈱縺｡郢晢ｽｳ邵ｺ荵晢ｽ臥ｹｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ郢ｧ螳夲ｽｿ・ｽ陷会｣ｰ邵ｺ蜉ｱ竏ｪ邵ｺ蜉ｱ・・ｸｺ繝ｻ/small>
      </div>

      <!-- 陞ｳ蠕｡・ｺ繝ｻ・ｸ蛹ｻ竏ｩ郢ｧ・ｻ郢ｧ・ｯ郢ｧ・ｷ郢晢ｽｧ郢晢ｽｳ繝ｻ蝓滄∪郢ｧ鄙ｫ笳・ｸｺ貅倪茜繝ｻ繝ｻ-->
      <div class="completed-section" id="completed-section">
        <button class="completed-toggle" id="completed-toggle">
          <span class="toggle-icon">隨・ｽｶ</span>
          <span class="toggle-text">陞ｳ蠕｡・ｺ繝ｻ・ｸ蛹ｻ竏ｩ</span>
          <span class="completed-count" id="completed-count">(0)</span>
        <div class="completed-content" id="completed-content">
          <div id="completed-list" class="task-list"></div>
        </div>
      </div>
    </div>

  </main>

  <!-- 闕ｳﾂ隲｡・ｬ隰ｫ蝣ｺ・ｽ諛翫Ζ郢晢ｽｼ郢晢ｽｫ郢晁・繝ｻ -->
  <div class="bulk-actions-toolbar" id="bulk-actions-toolbar" style="display: none;">
    <div class="bulk-toolbar-top">
      <button type="button" class="bulk-cancel-btn" id="bulk-cancel-btn">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      <span class="bulk-selection-count" id="bulk-selection-count">0陋溽洸竏郁ｬ壽ｨ費ｽｸ・ｭ</span>
      <button type="button" class="btn-link" id="bulk-select-all-btn">陷茨ｽｨ鬩包ｽｸ隰壹・</button>
    </div>
    <div class="bulk-toolbar-actions">
      <button type="button" class="bulk-action-btn-with-label" id="bulk-complete-btn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
        <span>陞ｳ蠕｡・ｺ繝ｻ/span>
      <button type="button" class="bulk-action-btn-with-label" id="bulk-date-btn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        <span>隴鯉ｽ･闔峨・/span>
      <button type="button" class="bulk-action-btn-with-label" id="bulk-priority-btn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
        </svg>
        <span>陷・ｽｪ陷井ｺ･・ｺ・ｦ</span>
      <button type="button" class="bulk-action-btn-with-label bulk-delete-btn" id="bulk-delete-btn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="3 6 5 6 21 6"></polyline>
          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
        </svg>
        <span>陷台ｼ∝求</span>
    </div>
  </div>

  <!-- 隴・ｽｰ髫穂ｸ翫■郢ｧ・ｹ郢ｧ・ｯ闖ｴ諛医・FAB -->
  <button class="fab" id="create-task-btn" aria-label="隴・ｽｰ髫穂ｸ翫■郢ｧ・ｹ郢ｧ・ｯ闖ｴ諛医・">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="12" y1="5" x2="12" y2="19"></line>
      <line x1="5" y1="12" x2="19" y2="12"></line>
    </svg>

  <!-- 郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ闖ｴ諛医・/驍ｱ・ｨ鬮ｮ繝ｻﾎ皮ｹ晢ｽｼ郢敖郢晢ｽｫ -->
  <div class="modal" id="task-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modal-title">隴・ｽｰ髫穂ｸ翫■郢ｧ・ｹ郢ｧ・ｯ<</h2>
        <button class="close-btn" id="close-modal-btn">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="task-title">郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ陷ｷ繝ｻ<span class="required">*</span></label>
          <div style="display: flex; gap: 8px; margin-bottom: 8px;">
            <input type="text" id="task-title" maxlength="100" placeholder="郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ陷ｷ髦ｪ・定怦・･陷峨・ autocomplete="off" style="flex: 1;">
            <button type="button" class="btn btn-secondary" id="template-select-btn" style="padding: 10px 16px; white-space: nowrap;">﨟樊政 郢昴・ﾎｦ郢晏干ﾎ樒ｹ晢ｽｼ郢昴・</button>
          </div>
          <div class="char-count"><span id="title-char-count">0</span>/100</div>
        </div>
        <div class="form-group">
          <label for="task-memo">郢晢ｽ｡郢晢ｽ｢</label>
          <textarea id="task-memo" rows="4" placeholder="郢晢ｽ｡郢晢ｽ｢郢ｧ雋槭・陷牙ｹ｢・ｼ莠包ｽｻ・ｻ隲｢謫ｾ・ｼ繝ｻ></textarea>
        </div>
        <div class="form-group">
          <label for="task-due-date">隴帶ｻ・応隴鯉ｽ･</label>
          <input type="date" id="task-due-date">
        </div>
        <div class="form-group">
          <label for="task-duration">隰・髫補扱蜃ｾ鬮｢繝ｻ/label>
          <select id="task-duration">
            <option value="">隴弱ｋ菫｣隴幢ｽｪ髫ｪ・ｭ陞ｳ繝ｻ/option>
            <option value="30">30陋ｻ繝ｻ/option>
            <option value="60">1隴弱ｋ菫｣</option>
            <option value="90">1隴弱ｋ菫｣30陋ｻ繝ｻ/option>
            <option value="120">2隴弱ｋ菫｣</option>
            <option value="150">2隴弱ｋ菫｣30陋ｻ繝ｻ/option>
            <option value="180">3隴弱ｋ菫｣</option>
            <option value="210">3隴弱ｋ菫｣30陋ｻ繝ｻ/option>
            <option value="240">4隴弱ｋ菫｣</option>
            <option value="270">4隴弱ｋ菫｣30陋ｻ繝ｻ/option>
            <option value="300">5隴弱ｋ菫｣</option>
            <option value="330">5隴弱ｋ菫｣30陋ｻ繝ｻ/option>
            <option value="360">6隴弱ｋ菫｣</option>
            <option value="390">6隴弱ｋ菫｣30陋ｻ繝ｻ/option>
            <option value="420">7隴弱ｋ菫｣</option>
            <option value="450">7隴弱ｋ菫｣30陋ｻ繝ｻ/option>
            <option value="480">8隴弱ｋ菫｣</option>
            <option value="510">8隴弱ｋ菫｣30陋ｻ繝ｻ/option>
            <option value="540">9隴弱ｋ菫｣</option>
            <option value="570">9隴弱ｋ菫｣30陋ｻ繝ｻ/option>
            <option value="600">10隴弱ｋ菫｣</option>
            <option value="630">10隴弱ｋ菫｣30陋ｻ繝ｻ/option>
            <option value="660">11隴弱ｋ菫｣</option>
            <option value="690">11隴弱ｋ菫｣30陋ｻ繝ｻ/option>
            <option value="720">12隴弱ｋ菫｣</option>
          </select>
        </div>
        <div class="form-group">
          <label for="task-start-time">鬮｢蜿･・ｧ蛹ｺ蜃ｾ陋ｻ・ｻ</label>
          <input type="time" id="task-start-time">
        </div>
        <div class="form-group">
          <label for="task-end-time">驍ｨ繧・ｽｺ繝ｻ蜃ｾ陋ｻ・ｻ</label>
          <input type="time" id="task-end-time">
        </div>
        <div class="form-group">
          <label>
            <input type="checkbox" id="task-urgent">
            驍ｱ鬆堕・･
          </label>
        </div>
        <div class="form-group">
          <label for="task-priority">陷・ｽｪ陷育｣ｯ・ｰ繝ｻ・ｽ繝ｻ/label>
          <select id="task-priority">
            <option value="">隴幢ｽｪ髫ｪ・ｭ陞ｳ繝ｻ/option>
            <option value="high">鬯ｮ繝ｻ/option>
            <option value="medium">闕ｳ・ｭ</option>
            <option value="low">闖ｴ繝ｻ/option>
          </select>
        </div>
        <div class="form-group timer-section" id="timer-section" style="display: none;">
          <label>驍擾ｽｯ驕ｨ閧ｴ蜃ｾ鬮｢繝ｻ/label>
          <div class="timer-display">
            <span id="timer-display">00:00:00</span>
            <button type="button" class="timer-btn" id="timer-toggle-btn">鬮｢蜿･・ｧ繝ｻ</button>
          </div>
        </div>
        <div class="form-group subtasks-section" id="subtasks-section" style="display: none;">
          <label>郢ｧ・ｵ郢晄じ縺｡郢ｧ・ｹ郢ｧ・ｯ</label>
          <div id="subtasks-list" class="subtasks-list"></div>
          <button type="button" class="btn-add-subtask" id="add-subtask-btn">+ 郢ｧ・ｵ郢晄じ縺｡郢ｧ・ｹ郢ｧ・ｯ郢ｧ螳夲ｽｿ・ｽ陷会｣ｰ<</button>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="cancel-btn">郢ｧ・ｭ郢晢ｽ｣郢晢ｽｳ郢ｧ・ｻ郢晢ｽｫ<</button>
        <button class="btn btn-danger" id="delete-btn" style="display: none;">陷台ｼ∝求<</button>
        <button class="btn btn-primary" id="save-btn">闖ｫ譎擾ｽｭ繝ｻ</button>
      </div>
    </div>
  </div>

  <!-- 驕抵ｽｺ髫ｱ髦ｪ繝郢ｧ・､郢ｧ・｢郢晢ｽｭ郢ｧ・ｰ -->
  <div class="modal" id="confirm-modal">
    <div class="modal-content confirm-modal">
      <div class="modal-header">
        <h2 id="confirm-title">驕抵ｽｺ髫ｱ繝ｻ</h2>
      </div>
      <div class="modal-body">
        <p id="confirm-message"></p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="confirm-cancel-btn">郢ｧ・ｭ郢晢ｽ｣郢晢ｽｳ郢ｧ・ｻ郢晢ｽｫ<</button>
        <button class="btn btn-primary" id="confirm-ok-btn">OK<</button>
      </div>
    </div>
  </div>

  <!-- 髫ｪ・ｭ陞ｳ螢ｹﾎ皮ｹ晢ｽｼ郢敖郢晢ｽｫ -->
  <div class="modal" id="settings-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>髫ｪ・ｭ陞ｳ繝ｻ</h2>
        <button class="close-btn" id="close-settings-btn">&times;</button>
      </div>
      <div class="modal-body">
        <!-- 郢ｧ・ｫ郢ｧ・ｹ郢ｧ・ｿ郢晄ｧｭ縺・ｹｧ・ｺ髫ｪ・ｭ陞ｳ繝ｻ-->
        <h3 class="settings-section-title">﨟櫁ｳ 髯ｦ・ｨ驕会ｽｺ髫ｪ・ｭ陞ｳ繝ｻ</h3>
        <p class="settings-description">郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ郢晢ｽｪ郢ｧ・ｹ郢晏現繝ｻ髯ｦ・ｨ驕会ｽｺ隴・ｽｹ雎戊ｼ費ｽ堤ｹｧ・ｫ郢ｧ・ｹ郢ｧ・ｿ郢晄ｧｭ縺・ｹｧ・ｺ邵ｺ・ｧ邵ｺ髦ｪ竏ｪ邵ｺ蜷ｶﾂ繝ｻ/p>

        <div style="display: flex; flex-direction: column; gap: 16px; margin-top: 16px; margin-bottom: 24px;">
          <div class="form-group">
            <label for="task-density">郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ陝・・・ｺ・ｦ</label>
            <select id="task-density" style="width: 100%; font-size: 14px; padding: 8px; border: 1px solid #e0e0e0; border-radius: 4px;">
              <option value="compact">郢ｧ・ｳ郢晢ｽｳ郢昜ｻ｣縺醍ｹ晁肩・ｼ莠包ｽｽ蜥丞項陝・得・ｼ繝ｻ/option>
              <option value="normal">鬨ｾ螢ｼ・ｸ・ｸ</option>
              <option value="spacious">郢ｧ繝ｻ笆ｲ邵ｺ貅假ｽ翫・莠包ｽｽ蜥丞項陞滂ｽｧ繝ｻ繝ｻ/option>
            </select>
          </div>

          <div class="form-group">
            <label for="week-start-day">鬨ｾ・ｱ邵ｺ・ｮ鬮｢蜿･・ｧ蛹ｺ螻・ｭ鯉ｽ･</label>
            <select id="week-start-day" style="width: 100%; font-size: 14px; padding: 8px; border: 1px solid #e0e0e0; border-radius: 4px;">
              <option value="0">隴鯉ｽ･隴匁㊧蠕・/option>
              <option value="1">隴帛沺螻・ｭ鯉ｽ･</option>
            </select>
          </div>

          <div class="form-group">
            <label for="task-sort-order">郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ邵ｺ・ｮ闕ｳ・ｦ邵ｺ・ｳ鬯・・/label>
            <select id="task-sort-order" style="width: 100%; font-size: 14px; padding: 8px; border: 1px solid #e0e0e0; border-radius: 4px;">
              <option value="priority">陷・ｽｪ陷育｣ｯ・ｰ繝ｻ・ｽ蝓ｼ・ｰ繝ｻ/option>
              <option value="time">隴弱ｇ邯ｾ鬯・・/option>
              <option value="manual">隰・唱陌夊叉・ｦ邵ｺ・ｳ隴厄ｽｿ邵ｺ繝ｻ/option>
            </select>
          </div>

          <div class="form-group">
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
              <input type="checkbox" id="show-completed-tasks" checked>
              <span>陞ｳ蠕｡・ｺ繝ｻ・ｸ蛹ｻ竏ｩ郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ郢ｧ螳夲ｽ｡・ｨ驕会ｽｺ邵ｺ蜷ｶ・・/span>
            </label>
          </div>
        </div>

        <h3 class="settings-section-title">﨟樒ｲ・鬨ｾ螟り｡埼坎・ｭ陞ｳ繝ｻ</h3>
        <p class="settings-description">郢晢ｽｪ郢晄ｧｭ縺・ｹ晢ｽｳ郢敖郢晢ｽｼ鬨ｾ螟り｡咲ｸｺ・ｮ髫ｪ・ｭ陞ｳ螢ｹ・帝勗蠕鯉ｼ樒ｸｺ・ｾ邵ｺ蜷ｶﾂ繝ｻ/p>

        <div style="display: flex; flex-direction: column; gap: 16px; margin-top: 16px; margin-bottom: 24px;">
          <div class="form-group">
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
              <input type="checkbox" id="notifications-enabled" checked>
              <span>鬨ｾ螟り｡咲ｹｧ蜻域剰怏・ｹ邵ｺ・ｫ邵ｺ蜷ｶ・・/span>
            </label>
          </div>

          <div class="form-group">
            <label for="default-reminder-time">郢昴・繝ｵ郢ｧ・ｩ郢晢ｽｫ郢晏現ﾎ懃ｹ晄ｧｭ縺・ｹ晢ｽｳ郢敖郢晢ｽｼ隴弱ｋ菫｣</label>
            <select id="default-reminder-time" style="width: 100%; font-size: 14px; padding: 8px; border: 1px solid #e0e0e0; border-radius: 4px;">
              <option value="0">鬮｢蜿･・ｧ蛹ｺ蜃ｾ陋ｻ・ｻ</option>
              <option value="5">5陋ｻ繝ｻ辯・/option>
              <option value="10">10陋ｻ繝ｻ辯・/option>
              <option value="15">15陋ｻ繝ｻ辯・/option>
              <option value="30">30陋ｻ繝ｻ辯・/option>
              <option value="60">1隴弱ｋ菫｣陷代・/option>
              <option value="120">2隴弱ｋ菫｣陷代・/option>
            </select>
          </div>

          <div class="form-group">
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
              <input type="checkbox" id="reminder-repeat">
              <span>郢晢ｽｪ郢晄ｧｭ縺・ｹ晢ｽｳ郢敖郢晢ｽｼ郢ｧ蝣､・ｹ・ｰ郢ｧ鬘假ｽｿ譁絶・</span>
            </label>
          </div>

          <div class="form-group">
            <label for="repeat-interval">驛｢・ｰ郢ｧ鬘假ｽｿ譁撰ｼ鬮｢鬥ｴ蝗・/label>
            <select id="repeat-interval" style="width: 100%; font-size: 14px; padding: 8px; border: 1px solid #e0e0e0; border-radius: 4px;">
              <option value="1">1陋ｻ繝ｻ/option>
              <option value="5">5陋ｻ繝ｻ/option>
              <option value="10">10陋ｻ繝ｻ/option>
              <option value="15">15陋ｻ繝ｻ/option>
            </select>
          </div>

          <div class="form-group">
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
              <input type="checkbox" id="sound-enabled" checked>
              <span>鬨ｾ螟り｡埼ｫｻ・ｳ郢ｧ蜻域剰怏・ｹ邵ｺ・ｫ邵ｺ蜷ｶ・・/span>
            </label>
          </div>

          <div class="form-group">
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
              <input type="checkbox" id="vibration-enabled" checked>
              <span>郢晁・縺・ｹ晄じﾎ樒ｹ晢ｽｼ郢ｧ・ｷ郢晢ｽｧ郢晢ｽｳ郢ｧ蜻域剰怏・ｹ邵ｺ・ｫ邵ｺ蜷ｶ・・/span>
            </label>
          </div>
        </div>

        <h3 class="settings-section-title">﨟樊兜 郢ｧ・ｲ郢晢ｽｼ郢ｧ・ｸ髫ｪ・ｭ陞ｳ繝ｻ</h3>
        <p class="settings-description">24隴弱ｋ菫｣郢ｧ・ｿ郢ｧ・､郢晢｣ｰ郢ｧ・ｲ郢晢ｽｼ郢ｧ・ｸ邵ｺ・ｮ髯ｦ・ｨ驕会ｽｺ郢ｧ蛛ｵ縺咲ｹｧ・ｹ郢ｧ・ｿ郢晄ｧｭ縺・ｹｧ・ｺ邵ｺ・ｧ邵ｺ髦ｪ竏ｪ邵ｺ蜷ｶﾂ繝ｻ/p>

        <div style="display: flex; flex-direction: column; gap: 16px; margin-top: 16px; margin-bottom: 24px;">
          <div class="form-group">
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
              <input type="checkbox" id="gauge-visible" checked>
              <span>郢ｧ・ｲ郢晢ｽｼ郢ｧ・ｸ郢ｧ螳夲ｽ｡・ｨ驕会ｽｺ邵ｺ蜷ｶ・・/span>
            </label>
          </div>

          <div class="form-group">
            <label for="density-threshold">陝・・・ｺ・ｦ髫ｴ・ｦ陷ｻ鄙ｫ繝ｻ鬮｢・ｾ陋滂ｽ､繝ｻ繝ｻ繝ｻ繝ｻ/label>
            <input type="number" id="density-threshold" min="50" max="100" value="80" style="width: 100%; font-size: 14px; padding: 8px; border: 1px solid #e0e0e0; border-radius: 4px;">
            <small style="font-size: 12px; color: #757575; display: block; margin-top: 4px;">
              郢ｧ・ｹ郢ｧ・ｱ郢ｧ・ｸ郢晢ｽ･郢晢ｽｼ郢晢ｽｫ陝・・・ｺ・ｦ邵ｺ蠕鯉ｼ・ｸｺ・ｮ陋滂ｽ､郢ｧ螳夲ｽｶ繝ｻ竏ｴ郢ｧ荵昶・髫ｴ・ｦ陷ｻ鄙ｫ窶ｲ髯ｦ・ｨ驕会ｽｺ邵ｺ霈費ｽ檎ｸｺ・ｾ邵ｺ繝ｻ            </small>
          </div>

          <div class="form-group">
            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
              <input type="checkbox" id="show-density-warning" checked>
              <span>陝・・・ｺ・ｦ髫ｴ・ｦ陷ｻ鄙ｫ・帝勗・ｨ驕会ｽｺ邵ｺ蜷ｶ・・/span>
            </label>
          </div>

          <div class="form-group">
            <label for="gauge-time-pattern">隴弱ｋ菫｣髯ｦ・ｨ髫ｪ蛟･繝ｱ郢ｧ・ｿ郢晢ｽｼ郢晢ｽｳ</label>
            <select id="gauge-time-pattern" style="width: 100%; font-size: 14px; padding: 8px; border: 1px solid #e0e0e0; border-radius: 4px;">
              <option value="0">郢昜ｻ｣縺｡郢晢ｽｼ郢晢ｽｳ0: 隰ｨ・ｰ陝・干繝ｻ邵ｺ・ｿ繝ｻ繝ｻ-23繝ｻ繝ｻ/option>
              <option value="1">郢昜ｻ｣縺｡郢晢ｽｼ郢晢ｽｳ1: 隴弱ｇ邯ｾ髯ｦ・ｨ髫ｪ蛛・ｽｼ繝ｻ:00-23:00繝ｻ繝ｻ/option>
              <option value="3">郢昜ｻ｣縺｡郢晢ｽｼ郢晢ｽｳ3: 3隴弱ｋ菫｣陋ｹ・ｺ陋ｻ繝ｻ・企勗・ｨ髫ｪ繝ｻ/option>
              <option value="4" selected>郢昜ｻ｣縺｡郢晢ｽｼ郢晢ｽｳ4: 6隴弱ｋ菫｣陋ｹ・ｺ陋ｻ繝ｻ・企勗・ｨ髫ｪ蛛・ｽｼ蛹ｻ繝ｧ郢晁ｼ斐°郢晢ｽｫ郢晁肩・ｼ繝ｻ/option>
            </select>
            <small style="font-size: 12px; color: #757575; display: block; margin-top: 4px;">
              24隴弱ｋ菫｣郢ｧ・ｲ郢晢ｽｼ郢ｧ・ｸ邵ｺ・ｮ隴弱ｋ菫｣郢晢ｽｩ郢晏生ﾎ晉ｸｺ・ｮ髯ｦ・ｨ驕会ｽｺ隴・ｽｹ雎戊ｼ費ｽ帝ｩ包ｽｸ隰壽ｧｭ縲堤ｸｺ髦ｪ竏ｪ邵ｺ繝ｻ            </small>
          </div>

          <div class="form-group">
            <label for="color-scheme">郢ｧ・ｫ郢晢ｽｩ郢晢ｽｼ郢ｧ・ｹ郢ｧ・ｭ郢晢ｽｼ郢晢｣ｰ</label>
            <select id="color-scheme" style="width: 100%; font-size: 14px; padding: 8px; border: 1px solid #e0e0e0; border-radius: 4px;">
              <option value="default">郢昴・繝ｵ郢ｧ・ｩ郢晢ｽｫ郢昴・/option>
              <option value="grayscale">郢ｧ・ｰ郢晢ｽｬ郢晢ｽｼ郢ｧ・ｹ郢ｧ・ｱ郢晢ｽｼ郢晢ｽｫ</option>
              <option value="custom">郢ｧ・ｫ郢ｧ・ｹ郢ｧ・ｿ郢晢｣ｰ</option>
            </select>
          </div>

          <div id="custom-colors-panel" style="display: none; padding: 12px; background: #f5f5f5; border-radius: 4px; gap: 12px; flex-direction: column;">
            <div class="form-group">
              <label for="elapsed-color">驍ｨ遒≫с隴弱ｋ菫｣邵ｺ・ｮ豼ｶ・ｲ</label>
              <input type="color" id="elapsed-color" value="#666666" style="width: 100%; height: 40px; border: 1px solid #e0e0e0; border-radius: 4px; cursor: pointer;">
            </div>

            <div class="form-group">
              <label for="scheduled-color">闔莠･・ｮ螢ｽ蜃ｾ鬮｢阮吶・豼ｶ・ｲ</label>
              <input type="color" id="scheduled-color" value="#000000" style="width: 100%; height: 40px; border: 1px solid #e0e0e0; border-radius: 4px; cursor: pointer;">
            </div>

            <div class="form-group">
              <label for="free-color">驕ｨ・ｺ邵ｺ閧ｴ蜃ｾ鬮｢阮吶・豼ｶ・ｲ</label>
              <input type="color" id="free-color" value="#e0e0e0" style="width: 100%; height: 40px; border: 1px solid #e0e0e0; border-radius: 4px; cursor: pointer;">
            </div>
          </div>
        </div>

        <h3 class="settings-section-title">郢昴・縺・ｹ晢ｽｪ郢晢ｽｼ郢晢ｽｫ郢晢ｽｼ郢昴・縺・ｹ晢ｽｳ<</h3>
        <p class="settings-description">雎亥叙蠕矩Δ・ｰ郢ｧ鬘假ｽｿ譁絶・郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ郢ｧ螳夲ｽｨ・ｭ陞ｳ螢ｹ縲堤ｸｺ髦ｪ竏ｪ邵ｺ蜷ｶﾂ繧・晉ｹ晢ｽｼ郢昴・縺・ｹ晢ｽｳ陷ｷ髦ｪ竊定ｭ弱ｋ菫｣郢ｧ螳壹・騾包ｽｱ邵ｺ・ｫ髫ｪ・ｭ陞ｳ螢ｹ縲堤ｸｺ髦ｪ竏ｪ邵ｺ蜷ｶﾂ繝ｻ/p>

        <div id="routines-list" class="routines-list">
          <!-- 郢晢ｽｫ郢晢ｽｼ郢昴・縺・ｹ晢ｽｳ郢ｧ・｢郢ｧ・､郢昴・ﾎ堤ｸｺ謔溯劒騾ｧ繝ｻ竊馴恆・ｽ陷会｣ｰ邵ｺ霈費ｽ檎ｹｧ繝ｻ-->
        </div>

        <button type="button" class="btn-add-routine" id="add-routine-btn">+ 郢晢ｽｫ郢晢ｽｼ郢昴・縺・ｹ晢ｽｳ郢ｧ螳夲ｽｿ・ｽ陷会｣ｰ<</button>

        <h3 class="settings-section-title" style="margin-top: 32px;">隨橸ｽ｡ 郢ｧ・ｯ郢ｧ・､郢昴・縺醍ｹｧ・｢郢ｧ・ｯ郢ｧ・ｷ郢晢ｽｧ郢晢ｽｳ<</h3>
        <p class="settings-description">郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ郢ｧ蛛ｵ竏ｪ邵ｺ・ｨ郢ｧ竏壺ｻ隰ｫ蝣ｺ・ｽ諛翫堤ｸｺ髦ｪ・玖嵩・ｿ陋ｻ・ｩ邵ｺ・ｪ隶匁ｺｯ繝ｻ邵ｺ・ｧ邵ｺ蜷ｶﾂ繝ｻ/p>
        <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 16px;">
          <button type="button" class="btn btn-secondary" id="quick-complete-today-btn">
            隨ｨ繝ｻ闔蛾大ｾ狗ｸｺ・ｮ郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ郢ｧ蜑・ｽｸﾂ隲｡・ｬ陞ｳ蠕｡・ｺ繝ｻ          <</button>
          <button type="button" class="btn btn-secondary" id="quick-move-overdue-btn">
            﨟槫･・隴帶ｻ・応陋ｻ繝ｻ・檎ｹｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ郢ｧ蜻医・隴鯉ｽ･邵ｺ・ｫ驕假ｽｻ陷阪・          <</button>
          <button type="button" class="btn btn-secondary" id="quick-archive-completed-btn">
            﨟樣・陞ｳ蠕｡・ｺ繝ｻ縺｡郢ｧ・ｹ郢ｧ・ｯ郢ｧ蛛ｵ縺・ｹ晢ｽｼ郢ｧ・ｫ郢ｧ・､郢昴・          <</button>
          <button type="button" class="btn btn-secondary" id="quick-copy-today-btn">
            﨟樊政 闔蛾大ｾ狗ｸｺ・ｮ隴幢ｽｪ陞ｳ蠕｡・ｺ繝ｻ縺｡郢ｧ・ｹ郢ｧ・ｯ郢ｧ蜻医・隴鯉ｽ･邵ｺ・ｫ郢ｧ・ｳ郢晄鱒繝ｻ
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" id="save-settings-btn">闖ｫ譎擾ｽｭ繝ｻ</button>
      </div>
    </div>
  </div>

  <!-- 陋ｻ繝ｻ譴ｵ郢晢ｽ｢郢晢ｽｼ郢敖郢晢ｽｫ -->
  <div class="modal" id="analytics-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>﨟樊兜 郢昴・繝ｻ郢ｧ・ｿ陋ｻ繝ｻ譴ｵ<</h2>
        <button class="close-btn" id="close-analytics-btn">&times;</button>
      </div>
      <div class="modal-body">
        <!-- 郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ郢晢ｽｩ郢晢ｽｳ郢ｧ・ｭ郢晢ｽｳ郢ｧ・ｰ -->
        <section class="analytics-section">
          <h3 class="analytics-section-title">﨟樣・ 郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ郢晢ｽｩ郢晢ｽｳ郢ｧ・ｭ郢晢ｽｳ郢ｧ・ｰ TOP5<</h3>
          <p class="analytics-description">陞ｳ蠕｡・ｺ繝ｻ・邵ｺ貅倥■郢ｧ・ｹ郢ｧ・ｯ邵ｺ・ｮ闕ｳ・ｭ邵ｺ・ｧ邵ｲ竏ｵ諤咏ｹｧ繧亥・鬮｢阮呻ｽ堤ｸｺ荵晢ｿ邵ｺ貅倥■郢ｧ・ｹ郢ｧ・ｯ邵ｺ・ｧ邵ｺ繝ｻ/p>
          <div id="task-ranking-list" class="ranking-list"></div>
        </section>

        <!-- 驕ｨ・ｺ邵ｺ閧ｴ蜃ｾ鬮｢轣倥・隴ｫ繝ｻ-->
        <section class="analytics-section">
          <h3 class="analytics-section-title">遶｢・ｰ 驕ｨ・ｺ邵ｺ閧ｴ蜃ｾ鬮｢轣倥・隴ｫ繝ｻ</h3>
          <p class="analytics-description">雎亥叙蠕狗ｸｺ・ｮ驕ｨ・ｺ邵ｺ閧ｴ蜃ｾ鬮｢阮呻ｽ帝坎蛟ｬ鮖ｸ郢晢ｽｻ陋ｻ繝ｻ譴ｵ邵ｺ蜉ｱ窶ｻ邵ｺ繝ｻ竏ｪ邵ｺ繝ｻ/p>
          <div id="free-time-stats" class="stats-grid"></div>
        </section>
      </div>
    </div>
  </div>

  <!-- 郢ｧ・ｫ郢晢ｽｬ郢晢ｽｳ郢敖郢晢ｽｼ郢晢ｽ｢郢晢ｽｼ郢敖郢晢ｽｫ -->
  <div class="modal" id="calendar-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>﨟槫･・郢ｧ・ｫ郢晢ｽｬ郢晢ｽｳ郢敖郢晢ｽｼ<</h2>
        <button class="close-btn" id="close-calendar-btn">&times;</button>
      </div>
      <div class="modal-body">
        <!-- 郢ｧ・ｫ郢晢ｽｬ郢晢ｽｳ郢敖郢晢ｽｼ郢晉ｿｫ繝ｳ郢ｧ・ｲ郢晢ｽｼ郢ｧ・ｷ郢晢ｽｧ郢晢ｽｳ -->
        <div class="calendar-nav">
          <button class="calendar-nav-btn" id="calendar-prev-btn">遯ｶ・ｹ<</button>
          <div class="calendar-current-month" id="calendar-current-month">2025陝ｷ・ｴ1隴帙・/div>
          <button class="calendar-nav-btn" id="calendar-next-btn">遯ｶ・ｺ<</button>
        </div>

        <!-- 郢ｧ・ｫ郢晢ｽｬ郢晢ｽｳ郢敖郢晢ｽｼ郢ｧ・ｰ郢晢ｽｪ郢昴・繝ｩ -->
        <div class="calendar-grid" id="calendar-grid">
          <!-- 隴匁㊧蠕狗ｹ晏･繝｣郢敖郢晢ｽｼ -->
          <div class="calendar-weekday">隴鯉ｽ･</div>
          <div class="calendar-weekday">隴帙・/div>
          <div class="calendar-weekday">霓｣・ｫ</div>
          <div class="calendar-weekday">雎鯉ｽｴ</div>
          <div class="calendar-weekday">隴幢ｽｨ</div>
          <div class="calendar-weekday">鬩･繝ｻ/div>
          <div class="calendar-weekday">陜ｨ繝ｻ/div>

          <!-- 隴鯉ｽ･闔牙･縺晉ｹ晢ｽｫ邵ｺ・ｯ陷肴・蝎ｪ邵ｺ・ｫ騾墓ｻ薙・ -->
        </div>

        <!-- 隴帛沺・ｬ・｡驍ｨ・ｱ髫ｪ繝ｻ-->
        <div id="calendar-monthly-stats" class="calendar-monthly-stats"></div>
      </div>
    </div>
  </div>

  <!-- 郢昴・ﾎｦ郢晏干ﾎ樒ｹ晢ｽｼ郢晉｣ｯ竏郁ｬ壽ｧｭﾎ皮ｹ晢ｽｼ郢敖郢晢ｽｫ -->
  <div class="modal" id="template-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>﨟樊政 郢昴・ﾎｦ郢晏干ﾎ樒ｹ晢ｽｼ郢晉｣ｯ竏郁ｬ壹・</h2>
        <button class="close-btn" id="close-template-btn">&times;</button>
      </div>
      <div class="modal-body">
        <p class="settings-description">郢ｧ蛹ｻ・･闖ｴ・ｿ邵ｺ繝ｻ縺｡郢ｧ・ｹ郢ｧ・ｯ郢ｧ蛛ｵ繝ｦ郢晢ｽｳ郢晏干ﾎ樒ｹ晢ｽｼ郢晏現竊堤ｸｺ蜉ｱ窶ｻ闖ｫ譎擾ｽｭ蛟･縲堤ｸｺ髦ｪ竏ｪ邵ｺ繝ｻ/p>

        <div id="templates-list" class="templates-list">
          <!-- 郢昴・ﾎｦ郢晏干ﾎ樒ｹ晢ｽｼ郢晏現縺・ｹｧ・､郢昴・ﾎ堤ｸｺ謔溯劒騾ｧ繝ｻ竊馴恆・ｽ陷会｣ｰ邵ｺ霈費ｽ檎ｹｧ繝ｻ-->
        </div>

        <button type="button" class="btn-add-template" id="add-template-btn">+ 隴・ｽｰ髫穂ｸ翫Θ郢晢ｽｳ郢晏干ﾎ樒ｹ晢ｽｼ郢晏現・帝恆・ｽ陷会｣ｰ<</button>

        <!-- 郢昴・ﾎｦ郢晏干ﾎ樒ｹ晢ｽｼ郢昜ｺ･繝ｻ陷牙ｸ吶Ψ郢ｧ・ｩ郢晢ｽｼ郢晢｣ｰ繝ｻ莠･繝ｻ隴帶ｺ倥・鬮ｱ讚・ｽ｡・ｨ驕会ｽｺ繝ｻ繝ｻ-->
        <div id="template-input-form" class="template-input-form" style="display: none;">
          <div class="form-group">
            <label for="template-name-input">郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ陷ｷ繝ｻ<span class="required">*</span></label>
            <input type="text" id="template-name-input" maxlength="100" placeholder="郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ陷ｷ髦ｪ・定怦・･陷峨・>
          </div>
          <div class="form-group">
            <label for="template-memo-input">郢晢ｽ｡郢晢ｽ｢</label>
            <textarea id="template-memo-input" rows="3" placeholder="郢晢ｽ｡郢晢ｽ｢郢ｧ雋槭・陷牙ｹ｢・ｼ莠包ｽｻ・ｻ隲｢謫ｾ・ｼ繝ｻ></textarea>
          </div>
          <div class="form-group">
            <label for="template-duration-input">隰・髫補扱蜃ｾ鬮｢繝ｻ/label>
            <select id="template-duration-input">
              <option value="">隴弱ｋ菫｣隴幢ｽｪ髫ｪ・ｭ陞ｳ繝ｻ/option>
              <option value="30">30陋ｻ繝ｻ/option>
              <option value="60">1隴弱ｋ菫｣</option>
              <option value="90">1隴弱ｋ菫｣30陋ｻ繝ｻ/option>
              <option value="120">2隴弱ｋ菫｣</option>
              <option value="150">2隴弱ｋ菫｣30陋ｻ繝ｻ/option>
              <option value="180">3隴弱ｋ菫｣</option>
              <option value="210">3隴弱ｋ菫｣30陋ｻ繝ｻ/option>
              <option value="240">4隴弱ｋ菫｣</option>
              <option value="270">4隴弱ｋ菫｣30陋ｻ繝ｻ/option>
              <option value="300">5隴弱ｋ菫｣</option>
              <option value="330">5隴弱ｋ菫｣30陋ｻ繝ｻ/option>
              <option value="360">6隴弱ｋ菫｣</option>
              <option value="390">6隴弱ｋ菫｣30陋ｻ繝ｻ/option>
              <option value="420">7隴弱ｋ菫｣</option>
              <option value="450">7隴弱ｋ菫｣30陋ｻ繝ｻ/option>
              <option value="480">8隴弱ｋ菫｣</option>
              <option value="510">8隴弱ｋ菫｣30陋ｻ繝ｻ/option>
              <option value="540">9隴弱ｋ菫｣</option>
              <option value="570">9隴弱ｋ菫｣30陋ｻ繝ｻ/option>
              <option value="600">10隴弱ｋ菫｣</option>
              <option value="630">10隴弱ｋ菫｣30陋ｻ繝ｻ/option>
              <option value="660">11隴弱ｋ菫｣</option>
              <option value="690">11隴弱ｋ菫｣30陋ｻ繝ｻ/option>
              <option value="720">12隴弱ｋ菫｣</option>
            </select>
          </div>
          <div class="form-group">
            <label for="template-start-time-input">鬮｢蜿･・ｧ蛹ｺ蜃ｾ陋ｻ・ｻ</label>
            <input type="time" id="template-start-time-input">
          </div>
          <div class="form-group">
            <label for="template-end-time-input">驍ｨ繧・ｽｺ繝ｻ蜃ｾ陋ｻ・ｻ</label>
            <input type="time" id="template-end-time-input">
          </div>
          <div style="display: flex; gap: 8px; margin-top: 16px;">
            <button type="button" class="btn btn-secondary" id="template-cancel-btn" style="flex: 1;">郢ｧ・ｭ郢晢ｽ｣郢晢ｽｳ郢ｧ・ｻ郢晢ｽｫ<</button>
            <button type="button" class="btn btn-primary" id="template-save-btn" style="flex: 1;">闖ｫ譎擾ｽｭ繝ｻ</button>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="template-close-btn">鬮｢蟲ｨﾂｧ郢ｧ繝ｻ</button>
      </div>
    </div>
  </div>

  <!-- 郢晢ｽｭ郢ｧ・ｰ郢ｧ・､郢晢ｽｳ郢晢ｽ｢郢晢ｽｼ郢敖郢晢ｽｫ -->
  <div class="modal" id="login-modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="login-modal-title">郢晢ｽｭ郢ｧ・ｰ郢ｧ・､郢晢ｽｳ<</h2>
        <button class="close-btn" id="close-login-btn">&times;</button>
      </div>
      <div class="modal-body">
        <!-- 郢晢ｽｭ郢ｧ・ｰ郢ｧ・､郢晢ｽｳ郢晁ｼ斐°郢晢ｽｼ郢晢｣ｰ繝ｻ莠･隲ｺ陷ｷ髦ｪﾎ倡ｹ晢ｽｼ郢ｧ・ｶ郢晢ｽｼ騾包ｽｨ繝ｻ繝ｻ-->
        <div id="login-form-section">
          <p class="settings-description">Google郢ｧ・｢郢ｧ・ｫ郢ｧ・ｦ郢晢ｽｳ郢晏現縲堤ｹ晢ｽｭ郢ｧ・ｰ郢ｧ・､郢晢ｽｳ邵ｺ蜷ｶ・狗ｸｺ・ｨ邵ｲ竏壹Ι郢晢ｽｼ郢ｧ・ｿ郢ｧ蛛ｵ縺醍ｹ晢ｽｩ郢ｧ・ｦ郢晏ｳｨ竊楢将譎擾ｽｭ蛟･縲堤ｸｺ髦ｪ竏ｪ邵ｺ蜷ｶﾂ繝ｻ/p>
          <button type="button" class="btn btn-primary" id="google-login-btn" style="width: 100%; margin-top: 16px;">
            <svg width="18" height="18" viewBox="0 0 48 48" style="vertical-align: middle; margin-right: 8px;">
              <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path>
              <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path>
              <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path>
              <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path>
              <path fill="none" d="M0 0h48v48H0z"></path>
            </svg>
            Google邵ｺ・ｧ郢晢ｽｭ郢ｧ・ｰ郢ｧ・､郢晢ｽｳ
          <button type="button" class="btn btn-secondary" id="continue-anonymous-btn" style="width: 100%; margin-top: 12px;">陋ｹ・ｿ陷ｷ髦ｪ繝ｻ邵ｺ・ｾ邵ｺ・ｾ闖ｴ・ｿ邵ｺ繝ｻ・ｶ螢ｹ・郢ｧ繝ｻ</button>
        </div>

        <!-- 郢ｧ・｢郢ｧ・ｫ郢ｧ・ｦ郢晢ｽｳ郢晏沺繝･陜｣・ｱ繝ｻ蛹ｻﾎ溽ｹｧ・ｰ郢ｧ・､郢晢ｽｳ雋ょ現竏ｩ郢晢ｽｦ郢晢ｽｼ郢ｧ・ｶ郢晢ｽｼ騾包ｽｨ繝ｻ繝ｻ-->
        <div id="account-info-section" style="display: none;">
          <div class="form-group">
            <label>髯ｦ・ｨ驕会ｽｺ陷ｷ繝ｻ/label>
            <p id="account-display-name" style="font-size: 16px; font-weight: 500;">-</p>
          </div>
          <div class="form-group">
            <label>郢晢ｽ｡郢晢ｽｼ郢晢ｽｫ郢ｧ・｢郢晏ｳｨﾎ樒ｹｧ・ｹ</label>
            <p id="account-email" style="font-size: 14px; color: #616161;">-</p>
          </div>
          <div class="form-group">
            <label>郢ｧ・ｹ郢昴・繝ｻ郢ｧ・ｿ郢ｧ・ｹ</label>
            <p id="account-status" style="font-size: 14px; color: #4CAF50;">-</p>
          </div>
          <button type="button" class="btn btn-danger" id="logout-btn" style="width: 100%; margin-top: 16px;">郢晢ｽｭ郢ｧ・ｰ郢ｧ・｢郢ｧ・ｦ郢昴・</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 隶諛・ｽｴ・｢郢晢ｽｻ驍ｨ讒ｭ・企恷・ｼ邵ｺ・ｿ郢晢ｽ｢郢晢ｽｼ郢敖郢晢ｽｫ -->
  <div class="modal" id="search-filter-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>﨟槫翁 隶諛・ｽｴ・｢郢晢ｽｻ驍ｨ讒ｭ・企恷・ｼ邵ｺ・ｿ<</h2>
        <button class="close-btn" id="close-search-filter-btn">&times;</button>
      </div>
      <div class="modal-body">
        <!-- 隶諛・ｽｴ・｢ -->
        <div class="form-group">
          <label for="modal-search-input">隶諛・ｽｴ・｢郢ｧ・ｭ郢晢ｽｼ郢晢ｽｯ郢晢ｽｼ郢昴・/label>
          <div style="position: relative;">
            <input type="text" id="modal-search-input" class="search-input" placeholder="郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ陷ｷ髦ｪ・・ｹ晢ｽ｡郢晢ｽ｢邵ｺ・ｧ隶諛・ｽｴ・｢..." autocomplete="off">
            <button type="button" id="modal-search-clear-btn" class="search-clear-btn" style="display: none; position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: transparent; border: none; cursor: pointer; padding: 4px;" aria-label="隶諛・ｽｴ・｢郢ｧ・ｯ郢晢ｽｪ郢ｧ・｢">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
          </div>
          <div id="modal-search-history" class="search-history" style="display: none;"></div>
        </div>

        <!-- 郢晁ｼ斐≦郢晢ｽｫ郢ｧ・ｿ郢晢ｽｼ -->
        <div class="form-group">
          <label>郢晁ｼ斐≦郢晢ｽｫ郢ｧ・ｿ郢晢ｽｼ隴夲ｽ｡闔会ｽｶ</label>
          <div style="display: flex; flex-direction: column; gap: 12px;">
            <!-- 陷・ｽｪ陷井ｺ･・ｺ・ｦ郢晁ｼ斐≦郢晢ｽｫ郢ｧ・ｿ郢晢ｽｼ -->
            <div>
              <div style="font-size: 13px; color: #757575; margin-bottom: 8px;">陷・ｽｪ陷井ｺ･・ｺ・ｦ</div>
              <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                <button type="button" class="filter-btn" data-filter="urgent">﨟槫惺 驍ｱ鬆堕・･<</button>
                <button type="button" class="filter-btn" data-filter="priority-high">遲ｮ繝ｻ・ｸ繝ｻ鬯ｮ繝ｻ</button>
                <button type="button" class="filter-btn" data-filter="priority-medium">遲撰ｽ｡繝ｻ繝ｻ闕ｳ・ｭ<</button>
                <button type="button" class="filter-btn" data-filter="priority-low">遲ｮ繝ｻ・ｸ繝ｻ闖ｴ繝ｻ</button>
              </div>
            </div>

            <!-- 隴帶ｻ・応郢晁ｼ斐≦郢晢ｽｫ郢ｧ・ｿ郢晢ｽｼ -->
            <div>
              <div style="font-size: 13px; color: #757575; margin-bottom: 8px;">隴帶ｻ・応</div>
              <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                <button type="button" class="filter-btn" data-filter="today">﨟槫･・闔蛾大ｾ・</button>
                <button type="button" class="filter-btn" data-filter="tomorrow">﨟槫ｮ・隴丞叙蠕・</button>
                <button type="button" class="filter-btn" data-filter="this-week">﨟樊政 闔我ｼ・・ｱ<</button>
                <button type="button" class="filter-btn" data-filter="overdue">隨橸｣ｰ繝ｻ繝ｻ隴帶ｻ・応陋ｻ繝ｻ・・</button>
              </div>
            </div>

            <!-- 霑･・ｶ隲ｷ荵昴Ψ郢ｧ・｣郢晢ｽｫ郢ｧ・ｿ郢晢ｽｼ -->
            <div>
              <div style="font-size: 13px; color: #757575; margin-bottom: 8px;">霑･・ｶ隲ｷ繝ｻ/div>
              <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                <button type="button" class="filter-btn" data-filter="incomplete">邂昴・隴幢ｽｪ陞ｳ蠕｡・ｺ繝ｻ</button>
                <button type="button" class="filter-btn" data-filter="completed">隨ｨ繝ｻ陞ｳ蠕｡・ｺ繝ｻ・ｸ蛹ｻ竏ｩ<</button>
                <button type="button" class="filter-btn" data-filter="routine">﨟槫｣ｲ 郢晢ｽｫ郢晢ｽｼ郢昴・縺・ｹ晢ｽｳ<</button>
              </div>
            </div>
          </div>
        </div>

        <!-- 郢ｧ・ｽ郢晢ｽｼ郢昴・-->
        <div class="form-group">
          <label for="modal-sort-select">闕ｳ・ｦ邵ｺ・ｳ隴厄ｽｿ邵ｺ繝ｻ/label>
          <select id="modal-sort-select" style="width: 100%; font-size: 14px; padding: 8px; border: 1px solid #e0e0e0; border-radius: 4px;">
            <option value="time">隴帶ｻ・応邵ｺ迹夲ｽｿ莉｣・樣ｬ・・/option>
            <option value="time-desc">隴帶ｻ・応邵ｺ遒≫味邵ｺ繝ｻ・ｰ繝ｻ/option>
            <option value="created">髴托ｽｽ陷会｣ｰ鬯・・・ｼ蝓溽悛邵ｺ蜉ｱ・樣ｬ・・・ｼ繝ｻ/option>
            <option value="created-desc">髴托ｽｽ陷会｣ｰ鬯・・・ｼ莠･蝠・ｸｺ繝ｻ・ｰ繝ｻ・ｼ繝ｻ/option>
            <option value="priority">陷・ｽｪ陷井ｺ･・ｺ・ｦ鬯・・/option>
            <option value="title">郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ陷ｷ蝓ｼ・ｰ繝ｻ・ｼ繝ｻ遶顔洒繝ｻ繝ｻ/option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="search-filter-clear-all-btn">邵ｺ蜷ｶ竏狗ｸｺ・ｦ郢ｧ・ｯ郢晢ｽｪ郢ｧ・｢<</button>
        <button class="btn btn-primary" id="search-filter-apply-btn">鬩包ｽｩ騾包ｽｨ<</button>
      </div>
    </div>
  </div>

  <!-- 隴弱ｋ菫｣郢ｧ・ｪ郢晢ｽｼ郢晁・繝ｻ髫ｴ・ｦ陷ｻ鄙ｫﾎ皮ｹ晢ｽｼ郢敖郢晢ｽｫ -->
  <div class="modal" id="time-overload-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>隨橸｣ｰ繝ｻ繝ｻ隴弱ｋ菫｣郢ｧ・ｪ郢晢ｽｼ郢晁・繝ｻ髫ｴ・ｦ陷ｻ繝ｻ</h2>
        <button class="close-btn" id="close-overload-btn">&times;</button>
      </div>
      <div class="modal-body">
        <div class="overload-warning">
          <p class="overload-message">
            闔蛾大ｾ狗ｸｺ・ｮ郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ邵ｺ譴ｧ蜃ｾ鬮｢轣倥・邵ｺ・ｫ陷ｿ蠑ｱ竏ｪ郢ｧ鄙ｫ竏ｪ邵ｺ蟶呻ｽ鍋ｸｲ繝ｻbr>
            <strong id="overload-amount"></strong>陋ｻ繝ｻ縺檎ｹ晢ｽｼ郢晁・繝ｻ邵ｺ蜉ｱ窶ｻ邵ｺ繝ｻ竏ｪ邵ｺ蜷ｶﾂ繝ｻ          </p>
          <p class="overload-description">
            闔会ｽ･闕ｳ荵昴・郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ邵ｺ・ｮ隴弱ｋ菫｣郢ｧ螳夲ｽｪ・ｿ隰ｨ・ｴ邵ｺ蜷ｶ・狗ｸｺ荵敖竏ｽ・ｸﾂ鬩幢ｽｨ郢ｧ雋樊肩邵ｺ・ｮ隴鯉ｽ･邵ｺ・ｫ驕假ｽｻ陷崎ｼ披・郢ｧ荵晢ｼ・ｸｺ・ｨ郢ｧ蛛ｵ笙邵ｺ蜷ｶ笘・ｹｧ竏夲ｼ邵ｺ・ｾ邵ｺ蜷ｶﾂ繝ｻ          </p>
        </div>

        <div id="overload-tasks-list" class="overload-tasks-list">
          <!-- 郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ郢晢ｽｪ郢ｧ・ｹ郢晏現窶ｲ陷肴・蝎ｪ邵ｺ・ｫ騾墓ｻ薙・邵ｺ霈費ｽ檎ｹｧ繝ｻ-->
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="overload-cancel-btn">鬮｢蟲ｨﾂｧ郢ｧ繝ｻ</button>
        <button class="btn btn-primary" id="overload-adjust-btn">郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ郢ｧ螳夲ｽｪ・ｿ隰ｨ・ｴ邵ｺ蜷ｶ・・</button>
      </div>
    </div>
  </div>

  <script src="js/core.js?v=48"></script>
  <script src="js/firebase-init.js?v=48"></script>
  <script src="js/auth.js?v=48"></script>
  <script src="js/tasks.js?v=48"></script>
  <script src="js/render.js?v=48"></script>
  <script src="js/modals.js?v=48"></script>
  <script src="js/gauge.js?v=48"></script>
  <script src="js/analytics.js?v=48"></script>
  <script src="js/overload.js?v=48"></script>
  <script src="js/share.js?v=48"></script>
  <script src="js/calendar.js?v=48"></script>
  <script src="js/templates.js?v=48"></script>
  <script src="js/events.js?v=48"></script>
  <script src="js/ui-main.js?v=48"></script>
  <!-- <script src="js/migration.js?v=46"></script> DISABLED: Migration tool not needed -->
  <script src="js/search-filter.js?v=46"></script>
  <script src="js/input-experience.js?v=48"></script>
  <script src="js/accessibility.js?v=49"></script>
  <script src="js/feedback.js?v=49"></script>
  <script src="js/help.js?v=49"></script>
  <script src="js/performance.js?v=50"></script>
  <script src="js/animations.js?v=51"></script>
  <script src="js/customization.js?v=52"></script>

  <script>
    // 郢ｧ・ｫ郢ｧ・ｹ郢ｧ・ｿ郢晢｣ｰ郢ｧ・ｫ郢晢ｽｩ郢晢ｽｼ郢昜ｻ｣繝ｭ郢晢ｽｫ邵ｺ・ｮ髯ｦ・ｨ驕会ｽｺ/鬮ｱ讚・ｽ｡・ｨ驕会ｽｺ陋ｻ・ｶ陟包ｽ｡
    document.addEventListener('DOMContentLoaded', function() {
      const colorSchemeSelect = document.getElementById('color-scheme');
      const customColorsPanel = document.getElementById('custom-colors-panel');

      if (colorSchemeSelect && customColorsPanel) {
        colorSchemeSelect.addEventListener('change', function() {
          if (this.value === 'custom') {
            customColorsPanel.style.display = 'flex';
          } else {
            customColorsPanel.style.display = 'none';
          }
        });

        // 陋ｻ譎・ｄ陋滂ｽ､邵ｺ諷ｶustom邵ｺ・ｮ陜｣・ｴ陷ｷ蛹ｻ繝ｻ髯ｦ・ｨ驕会ｽｺ
        if (colorSchemeSelect.value === 'custom') {
          customColorsPanel.style.display = 'flex';
        }
      }
    });
  </script>

  <!-- 郢ｧ・ｯ郢ｧ・､郢昴・縺題怦・･陷牙ｹ｢・ｼ閧ｲ蛻､鬮ｱ・｢闕ｳ遏ｩﾎ夊摎・ｺ陞ｳ螟ｲ・ｼ繝ｻ-->
  <form class="quick-add" id="quick-add-form">
    <div class="quick-input-row">
      <button type="button" class="quick-action-btn" id="quick-history-btn" title="陞ｻ・･雎・ｽｴ">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
      <div class="quick-input-wrapper">
        <input type="text" id="quick-add-input" placeholder="郢ｧ・ｿ郢ｧ・ｹ郢ｧ・ｯ陷ｷ髦ｪ・定怦・･陷牙ｸ呻ｼ邵ｺ・ｦEnter" maxlength="100" autocomplete="off" enterkeyhint="done">
        <div class="quick-input-actions">
          <button type="button" class="quick-action-btn" id="quick-date-btn" title="隴鯉ｽ･闔牙･繝ｻ隴弱ｋ菫｣郢ｧ螳夲ｽｨ・ｭ陞ｳ繝ｻ>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
          <button type="submit" class="quick-action-btn" title="髴托ｽｽ陷会｣ｰ">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 11 12 14 22 4"></polyline>
              <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
            </svg>
        </div>
      </div>
    </div>

    <div id="quick-history-tags" class="quick-history-tags" style="display: none;"></div>

    <div id="quick-datetime-panel" class="quick-datetime-panel" style="display: none;">
      <div class="quick-datetime-header">
        <span>隴鯉ｽ･闔牙･繝ｻ隴弱ｋ菫｣髫ｪ・ｭ陞ｳ繝ｻ/span>
        <button type="button" id="quick-datetime-close" class="quick-datetime-close">&times;</button>
      </div>
      <div class="quick-datetime-row">
        <label for="quick-add-date">隴帶ｻ・応隴鯉ｽ･:</label>
        <input type="date" id="quick-add-date">
      </div>
      <div class="quick-datetime-row">
        <label for="quick-add-duration">隰・髫補扱蜃ｾ鬮｢繝ｻ</label>
        <select id="quick-add-duration">
          <option value="">隴幢ｽｪ髫ｪ・ｭ陞ｳ繝ｻ/option>
          <option value="30">30陋ｻ繝ｻ/option>
          <option value="60">1隴弱ｋ菫｣</option>
          <option value="90">1隴弱ｋ菫｣30陋ｻ繝ｻ/option>
          <option value="120">2隴弱ｋ菫｣</option>
          <option value="150">2隴弱ｋ菫｣30陋ｻ繝ｻ/option>
          <option value="180">3隴弱ｋ菫｣</option>
          <option value="210">3隴弱ｋ菫｣30陋ｻ繝ｻ/option>
          <option value="240">4隴弱ｋ菫｣</option>
          <option value="270">4隴弱ｋ菫｣30陋ｻ繝ｻ/option>
          <option value="300">5隴弱ｋ菫｣</option>
          <option value="330">5隴弱ｋ菫｣30陋ｻ繝ｻ/option>
          <option value="360">6隴弱ｋ菫｣</option>
          <option value="390">6隴弱ｋ菫｣30陋ｻ繝ｻ/option>
          <option value="420">7隴弱ｋ菫｣</option>
          <option value="450">7隴弱ｋ菫｣30陋ｻ繝ｻ/option>
          <option value="480">8隴弱ｋ菫｣</option>
          <option value="510">8隴弱ｋ菫｣30陋ｻ繝ｻ/option>
          <option value="540">9隴弱ｋ菫｣</option>
          <option value="570">9隴弱ｋ菫｣30陋ｻ繝ｻ/option>
          <option value="600">10隴弱ｋ菫｣</option>
          <option value="630">10隴弱ｋ菫｣30陋ｻ繝ｻ/option>
          <option value="660">11隴弱ｋ菫｣</option>
          <option value="690">11隴弱ｋ菫｣30陋ｻ繝ｻ/option>
          <option value="720">12隴弱ｋ菫｣</option>
        </select>
      </div>
    </div>
  </form>

  <!-- Service Worker騾具ｽｻ鬪ｭ・ｲ -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js')
          .then(registration => {
            console.log('Service Worker registered:', registration.scope);
          })
          .catch(error => {
            console.log('Service Worker registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>

